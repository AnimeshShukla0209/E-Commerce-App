<div class="refund-container">
  <div class="refund-header">
    <button class="back-button" (click)="goBack()">
      <svg class="back-icon" viewBox="0 0 24 24">
        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
      </svg>
      Back to Dashboard
    </button>
    <h1 class="page-title">Pending Refunds</h1>
  </div>

  <div class="refund-content">
    <!-- Status messages remain the same -->
    
    @if (refundOrders.length > 0) {
      <div class="refund-grid">
        @for (order of refundOrders; track order._id) {
          <div class="refund-card">
            <div class="product-display">
              <div class="product-image-container">
                <img [src]="getSafeImageUrl(order.productId?.imageUrl)" 
                     alt="{{ order.productId?.name }}" 
                     class="product-image"
                     onerror="this.src='assets/default-product.png'">
              </div>
              <div class="product-details">
                <h3 class="product-name">{{ order.productId?.name }}</h3>
                <div class="detail-grid">
                  <span class="detail-label">Order #:</span>
                  <span class="detail-value">{{ order._id | slice:0:8 }}</span>
                  
                  <span class="detail-label">Buyer:</span>
                  <span class="detail-value">{{ order.buyerEmail }}</span>
                  
                  <span class="detail-label">Amount:</span>
                  <span class="detail-value amount">â‚¹{{ order.productId?.price * order.quantity | number:'1.2-2' }}</span>
                </div>
              </div>
            </div>
            <div class="action-section">
              <button class="action-button" 
                      (click)="processRefund(order._id)" 
                      [disabled]="loading">
                {{ loading ? 'Processing...' : 'Process Refund' }}
                <svg class="button-icon" viewBox="0 0 24 24" *ngIf="!loading">
                  <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
                </svg>
              </button>
            </div>
          </div>
        }
      </div>
    }
  </div>
</div>